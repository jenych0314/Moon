---
layout: post
title: "[WEB] 쿠키와 세션"
date: 2024-11-04
last_modified_at:
excerpt: "모의해킹 취업반 스터디 7기 3주차"
tags: [WEB, PHP]
comments: true
---

# 목차
* [Q1. 어떻게 로그인을 유지할 수 있을까?](#q1-어떻게-로그인을-유지할-수-있을까)
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()

# Q1. 어떻게 로그인을 유지할 수 있을까?
HTTP는 Connectionless, Stateless한 특징을 가지고 있다.
> **Connectionless**: 클라이언트가 요청을 한 후 응답을 받으면 그 연결을 끊어 버리는 특징  
> **Stateless**: 통신이 끝나면 상태를 유지하지 않는 특징.

이 두 특징으로 인해 원래라면 사이트에 접속할 때마다 로그인을 해야 한다.  
하지만 로그인 유지를 하겠다고 하면 다음에 접속할 때도 로그인이 유지가 되어 있다.  
과연 어떻게 로그인을 유지할 수 있는 것일까?

# 1. 쿠키(Cookie)
클라이언트에 저장되는 키와 값이 들어있는 작은 데이터 파일이다.
만료 시간이 정해지면 브라우저가 종료되어도 인증이 유지된다.
클라이언트의 상태 정보를 로컬에 저장했다가 참조한다.
웹 서버에 요청을 보낼 때 같이 보내는 작은 정보

## 쿠키 구성 요소
* 쿠키 이름(Name)
* 쿠키 값(Value)
* 쿠키 만료 시간(Expires) 
* 쿠키를 전송할 도메인(Domain)
* 쿠키를 전송할 경로(Path)
* 보안 연결 여부(Secure)
* Http Only 여부(HttpOnly)

## 쿠키 동작 방식
<img src = "https://github.com/aliquis-facio/aliquis-facio.github.io/blob/master/_image/2024-11-08-4.jpg?raw=true" title = "쿠키 동작">

# 2. 세션(Session)
웹 서버에 저장되는 정보

## 세션 동작 방식
<img src = "https://github.com/aliquis-facio/aliquis-facio.github.io/blob/master/_image/2024-11-08-5.jpg?raw=true" title = "세션 동작">

# 3. 쿠키(Cookie) vs. 세션(Session)
<table>
    <thead>
        <tr>
            <td>구분</td>
            <td>쿠키(Cookie)</td>
            <td>세션(Session)</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>저장 위치</td>
            <td>클라이언트</td>
            <td>서버</td>
        </tr>
        <tr>
            <td>저장 형식</td>
            <td>text</td>
            <td>object</td>
        </tr>
        <tr>
            <td>만료 시점</td>
            <td>쿠키 저장 시 설정<br>(설정 없으면 브라우저 종료 시)</td>
            <td>미정</td>
        </tr>
        <tr>
            <td>리소스</td>
            <td>클라이언트의 리소스</td>
            <td>서버의 리소스</td>
        </tr>
        <tr>
            <td>용량 제한</td>
            <td>20개 / 도메인, 4kb / 쿠키</td>
            <td>제한 X</td>
        </tr>
        <tr>
            <td>속도</td>
            <td>비교적 빠름</td>
            <td>비교적 느림</td>
        </tr>
    </tbody>
</table>

# 4. 캐시(Cache)

set-cookie
쿠키가 클라이언트 측 저장에 위험 -> 클라이언트가 변경 가능해서
서버에 쿠키 저장 -> 세션
세션id -> 쿠키
세션id 유추할 수 없는 일련의 문구로
세션id 탈취

# 참조
* [쿠키와 세션 개념](https://interconnection.tistory.com/74)
* [](https://dev-coco.tistory.com/61)
* [](https://lgphone.tistory.com/65)
* [](https://velog.io/@octo__/%EC%BF%A0%ED%82%A4Cookie-%EC%84%B8%EC%85%98Session)
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()
* []()