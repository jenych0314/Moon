---
layout: post
title: "모의해킹 취업반 스터디 7기 1주차"
date: 2024-10-17
excerpt: "작성 중..."
tags: [Post, TIL, Web]
comments: true
---

# 0. 목차
* [1. 웹(Web)이란?](#1-웹web이란)
* [2. 웹 서버(Web Server)란?](#2-웹-서버web-server란)
* [2.1. APM이란](#21-apm이란)
* [2.2. 웹 서버 동작](#22-웹서버-동작)
* [2.2.1. Web Root](#221-web-root)
* [2.2.2. URL](#222-url과-wwwnavercom과는-너무-다르다)
* [2.2.3. index.html](#223-indexhtml)
* [2.3. 웹 서버 실습](#23-웹서버-실습)
* [2.3.1. VMware 환경 설정](#231-vmware-환경-설정)
* [2.3.2. 정적 페이지](#232-정적-페이지static)
* [2.3.3. 동적 페이지](#233-동적-페이지dynamic)
* [1주차 과제]()
* [참고 사이트](#참고-사이트)

# 1. 웹(Web)이란?
월드 와이드 웹(WWW, World Wide Web)<sup>[1](#footnote_1)</sup>:  
인터넷에 연결된 사용자들이 서로의 정보를 공유할 수 있는 공간으로, 인터넷 상의 인기 있는 하나의 서비스이다.  
즉, `웹(Web) ⊂ 인터넷(Internet)`이다.  
<img src = "https://github.com/aliquis-facio/aliquis-facio.github.io/blob/master/_image/2024-10-18-1.jpg?raw=true">

# 2. 웹 서버(Web Server)란?<sup>[34](#footnote_34)</sup>  
하드웨어적 서버에 접속한 사용자에게 웹 서비스를 제공하기 위하여 사용되는 소프트웨어 서버의 한 종류.

## 2.1. APM이란?<sup>[24](#footnote_24)</sup>
웹 서비스를 구현하기 위해서는 웹서버, WAS, 데이터베이스가 필요하고  
주로 쓰였던 조합인 Apache, Php, MySql -> APM

1. Apache<sup>[18](#footnote_18)</sup>  
<img src = "https://github.com/aliquis-facio/aliquis-facio.github.io/blob/master/_image/2024-10-18-2.png?raw=true" title = "Apache Logo">  
오픈 소스 HTTP 웹 서버 프로그램으로 정적인 데이터를 처리하는 웹 서버이다.  
<br>
2024 글로벌 웹 서버 시장 점유율<sup>[16](#footnote_16)</sup>
<img src = "https://github.com/aliquis-facio/aliquis-facio.github.io/blob/master/_image/2024-10-19-1.png?raw=true" title = "2024 글로벌 웹 서버 시장 점유율">

2. PHP<sup>[17](#footnote_17)</sup>
<img src = "https://github.com/aliquis-facio/aliquis-facio.github.io/blob/master/_image/2024-10-18-3.png?raw=true" title = "PHP Logo">  
웹 서버상에서 쓰는 언어로, 일반 HTML + CSS + JS로는 DB 접속 구현 못해서 쓰는 언어다.

3. MySQL<sup>[2](#footnote_2)</sup>
<img src = "https://github.com/aliquis-facio/aliquis-facio.github.io/blob/master/_image/2024-10-18-4.png?raw=true" title = "MySQL Logo">
오픈소스 관계형 데이터베이스 관리 시스템(RDBMS)으로 행과 열로 구성된 테이블에 데이터를 저장한다.  
SQL(쿼리 언어)를 사용하여 데이터를 정의, 조작, 제어, 쿼리할 수 있다.  

## 2.2. 웹서버 동작
어떻게 웹 서버에 파일을 달라고 하는 것일까?
### 2.2.1. URL(Uniform Resource Locator) VS URI(Uniform Resource Identifier)<sup>[22](#footnote_22)</sup>
#### 2.2.1.1. URL(Uniform Resource Locator)<sup>[20](#footnote_20)</sup>,<sup>[21](#footnote_21)</sup>
웹에서 주어진 고유 리소스 주소로 웹 서버로 자료를 요청하는 링크이다.  
URL = 식별자 + 위치  
URL 표현방법: `scheme://<user>:<password>@<host>:<port>/<url-path>`  
HTTP URL의 scheme:  
`http://<host>:<port>/<path>?<searchpart>`  
= `[프로토콜]://[도메인 주소] or [IP 주소]:[포트 번호]/[파일 경로]`

#### 2.2.1.2. URI(Uniform Resource Identifier)
인터넷에 있는 자원을 나타내는 유일한 주소이다.  
URI = 식별자 `URI ⊃ URL, URN`  
URI 표현방법:  
`scheme:[//[user[:password]@]host[:port]][/path][?query][#fragment]`

#### 2.2.2.3. URL과 www.naver.com과는 너무 다르다~
https://www.naver.com/ -> 포트 번호가 왜 없냐?  
포트(Port)란? <sup>[27](#footnote_27)</sup><sup>[28](#footnote_28)</sup><sup>[29](#footnote_29)</sup><sup>[30](#footnote_30)</sup>  
TCP나 UDP 에서 어플리케이션이 상호구분을 위해서 사용하는 번호이다. IP 내에서 프로세스 구분을 하기 위해서 사용한다. 쉽게말하면, 각 프로토콜의 데이터가 통하는 논리적 통로이다.  
Well Known Port  
<table>
    <tbody>
        <tr>
            <td>FTP</td>
            <td>20, 21 (TCP)</td>
        </tr>
        <tr>
            <td>SSH</td>
            <td>22 (TCP)</td>
        </tr>
        <tr>
            <td>텔넷</td>
            <td>23 (TCP)</td>
        </tr>
        <tr>
            <td>SMTP</td>
            <td>25 (TCP)</td>
        </tr>
        <tr>
            <td>DNS</td>
            <td>53 (TCP/UDP)</td>
        </tr>
        <tr>
            <td>DHCP</td>
            <td>67 (UDP)</td>
        </tr>
        <tr>
            <td>HTTP</td>
            <td>80 (TCP)</td>
        </tr>
        <tr>
            <td>HTTPS</td>
            <td>443 (TCP)</td>
        </tr>
    </tbody>
</table>

http, https의 경우 포트 번호 생략이 가능하다(Common Port의 경우 생략 가능하다).

하지만 포트 번호의 경우 강제성이 없기 때문에 다른 포트로도 이용할 수는 있다. 그럴 경우 꼭 포트 번호를 명시해야 한다.

* NAT(Network Address Translation)<sup>[31](#footnote_31)</sup><sup>[32](#footnote_32)</sup>: IP 패킷에 있는 출발지 및 목적지의 IP 주소와 TCP/UDP 포트 숫자 등을 바꿔 재기록하면서 네트워크 트래픽을 주고 받게 하는 기술이다.
현재 32비트 형식으로 사용 가능한 IP 주소 수는 늘어나는 인터넷 액세스 요청을 충족시키기에 부족하다. -> NAT 기술을 이용하면 하나의 공인 IP 주소를 사용해 여러 대의 호스트가 인터넷에 접속할 수 있다.

### 2.2.2. Web Root

<table>
    <tbody>
        <tr>
            <td>프로토콜</td>
            <td>http</td>
        </tr>
        <tr>
            <td>ip 주소</td>
            <td>192.168.100.100</td>
        </tr>
        <tr>
            <td>포트 번호</td>
            <td>80</td>
        </tr>
    </tbody>
</table>

웹서버 파일 구조는 밑과 같을 때  
<img src = "https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-18-5.jpg?raw=true" title = "웹서버 디렉토리 구조">

1. Web Basic 안에서 웹서버를 실행했을 경우 (Root File이 Web Basic)
c.txt 파일 열기 위해서 url을 어케 입력해야 할까?  
-> http://192.168.100.100:80/c.txt
2. dir 안에서 웹서버를 실행했을 경우 (Root File이 Web Basic/dir)
c.txt 파일 열기 위해서 url을 어케 입력해야 할까?  
-> http://192.168.100.100:80/../c.txt         (X)
-> root 위로는 못 올라간다라 옹...  

결론: 그러면 web root 경로를 좀 더 상위 폴더로 변경할 수 있다면 접속할 수 있는 부분이 많겠네? web root 경로가 무척 중요하다

### 2.2.3. index.html
웹 브라우저가 자신의 컴퓨터에 설치되어 있는 웹 서버에 접속해서 "index.html 파일을 줘"라고 얘기하는 것이다.  
그럼 웹 서버는 htdocs라는 디렉토리에서 파일을 찾도록 설정이 기본적으로 되어 있는 상태이다.  
웹 서버는 설정이 되어 있는대로 htdocs라는 폴더에서 index.html이라는 파일을 읽어서 그 파일을 웹 브라우저에게 전송해주면 웹 브라우저는 그것을 해석해서 화면에 표시해주게 된다.<sup>[11](#footnote_11)</sup>
디렉토리별로 index 파일이 적용된다  

기본적으로 index.html을 제공한다. 그렇다면 index 파일이 없다면??  
<img src = "https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-18-6.png?raw=true" title = "index.html 없을 때">
404 Not Found를 볼 줄 알았는데 예상 외다.

## 2.3. 웹서버 실습
### 2.3.1. vmware 환경 설정
<img src = "https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-17-1.png?raw=true" title = "ifconfig">

결과로 나오는 docker0, ens33, lo가 무엇을 의미하는 지 궁금했다.

1. `docker0`<sup>[3](#footnote_3)</sup>:
가상환경 도커 내부와 로컬 호스트, 직접적인? 물리적인 컴퓨터의 이더넷 네트워크 인터페이스와 직접적으로 연결되는 장치  
호스트의 eth0 네트워크 인터페이스(NI)와 직접적으로 연결되는 네트워크 인터페이스(NI)  
도커를 설치하면 도커 내부 로직에 의해 자동으로 ip를 할당받게 되는데, 이는 172.17.x.x로 시작하며 netmask는 255.255.0.0으로 설정됨  
docker0 인터페이스는 호스트의 eth0 인터페이스와 컨테이너의 eth0 인터페이스 사이의 중재자 역할을 하는 가상의 브릿지이며, 컨테이너가 생성되면 컨테이너 내부에 할당되는 eth0 인터페이스와 호스트에 할당되는 *veth 인터페이스*가 연결되고 docker0에 *veth 인터페이스*가 바인딩됩니다  
`veth 인터페이스`<sup>[8](#footnote_8)</sup>: 리눅스의 버추얼 이더넷 인터페이스를 의미합니다. veth는 쌍으로 만들어지며 네트워크 네임스페이스들을 터널로서 연결하거나, 물리 디바이스와 다른 네트워크 네임스페이스의 장비를 연결하는 용도로 사용할 수 있습니다.

* 바인딩(Binding)<sup>[33](#footnote_33)</sup>: 프로그램의 어떤 기본 단위가 가질 수 있는 구성요소의 구체적인 값, 성격을 확정하는 것이다. 즉, 변수에 어떤 값을 할당하는 그 과정을 바인딩이라고 하면 될 듯 하다.

2. `ens33`<sup>[4](#footnote_4)</sup><sup>[5](#footnote_5)</sup>: 제 PC에 설치된 NIC(Network Interface Controller)였습니다.
NIC(Network Interface Controller/Card)란?<sup>[19](#footnote_19)</sup> 컴퓨터를 네트워크에 연결하여 통신하기 위해 사용하는 하드웨어 장치이다.  
여기서 인터페이스란 서로 다른 장치가 접촉하는 부분이라고 한다.

3. `lo`<sup>[6](#footnote_6)</sup>: 시스템이 자기 자신과의 통신을 하기 위한 가상 이더넷장치  
lo = loop back을 의미. 자기 자신에게 보내는 데이터를 처리하기 위한 가상 인터페이스 장치명  
  
vmware newtork 설정을 nat -> bridge로 바꿔줬다.<sup>[7](#footnote_7)</sup>  

### 2.3.2. SSH 프로토콜 환경 설정
#### 2.3.2.1. SFTP<sup>[9](#footnote_9)</sup>
SFTP(SSH File Transfer Protocol): 파일을 다운로드하거나 인터넷에 업로드할 때 일반적으로 사용된다.  
SFTP를 사용하면 암호화를 통해 데이터를 안전하게 전송할 수 있고, 일반 텍스트 파일은 전송되지 않는다.  
-> 가상머신에 파일 넣을 때 사용할 수 있다  
VSCode STFP 플러그인 있다고 하니 VSC 이용하시는 분들은 참고하시면 좋을 듯 합니다.

#### termius<sup>[26](#footnote_26)</sup>
termius 접속하면 볼 수 있는 화면이다  
![termius 화면](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-20-1.png?raw=true)
host를 만들어서 
![host 만들 때](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-20-2.png?raw=true)
IP 주소 넣고, User name이랑 PW 입력하면 접속할 수 있다.

#### 푸티(PuTTY)<sup>[25](#footnote_25)</sup>
SSH 프로토콜은 웹호스팅을 이용하거나, 리눅스 서버에 접속하기 위해 사용하는 원격접속 툴이다.
리눅스나 유닉스 계열의 서버에 원격으로 접속할 수 있는 클라이언트 프로그램

### 2.3.2. 정적 페이지(Static)
`sudo python -m http.server 80` = 80 포트로 웹서버를 실행한다  
결과 -> `command not found`  
python 설치가 안 돼있나? 확인을 위해 `python -v` -> python3 쓰란다  

* python과 python3의 차이점은 뭣이더냐<sup>[10](#footnote_10)</sup>  
![python2 vs python3](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-19-2.png?raw=true)<sup>[23](#footnote_23)</sup>  

`sudo python3 -m http.server 80`  
![alt text](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-17-2.png?raw=true)

ctrl + z 눌러서 나왔는데 프로세스가 제대로 안 죽은 모양이다  
ctrl + z는 일시정지였던 것 같다  
`OSError: Errno 98 Address already in use`  
![alt text](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-17-3.png?raw=true)

`netstat -lntp`로 봤는데<sup>[14](#footnote_14)</sup>
PID가 안 나오대?  
![alt text](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-17-4.png?raw=true)

`sudo lsof -i :80` 하니까 PID가 나와서  
![alt text](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-17-5.png?raw=true)

-> 명령어 잘못 쳤다기 보다는 권한 안 줘서 안 나왔던 것 같다.

`kill -9`로 죽였는데 안 죽대?  
![alt text](https://cdn.jsdelivr.net/gh/aliquis-facio/aliquis-facio.github.io@master/_image/2024-10-17-6.png?raw=true)
권한이 없다고 하는 거 뿐이니까 `sudo kill -9`로 확인사살함<sup>[13](#footnote_13)</sup>

### 2.3.3. 동적 페이지(Dynamic)
* WAS: Web + Application + Server<sup>[34](#footnote_34)</sup>  
인터넷 상에서 http 프로토콜을 통해 사용자 컴퓨터나 장치에 애플리케이션을 수행해주는 미들웨어로서, **주로 동적 서버 컨텐츠를 수행**하는 것으로 웹 서버와 구별이 되며, 주로 데이터베이스 서버와 같이 수행된다.

`sudo docker ps -a`  
`sudo docker rm -f [pid]`

`./dockerCMD &`  
&: background 실행  
Root file = webapp이다

```html
<html>
    <h1>Score</h1>
    <h2>Name: <?php echo $_GET['name']; ?></h2>
</html>
```

url -> http://192.168.219.103:1018/score.php?name=hello

백엔드의 코드들은 안 보여준다  
결과물만 전달해준다

`$_GET['name']`  
$_GET = get method로 전달받은 파라미터  
파라미터: 사용자가 웹서버에게 전달하는 데이터  
파라미터 입력 받는 메소드 2가지: get / post  
get: 파라미터를 url에다가 붙여서 전달  
http://192.168.219.103:1018/score.php?*name=hello*

back-end: 서버 측 코드 ex) php, asp, jsp...  
front-end: 클라이언트 측 코드, 브라우저가 실행 코드 ex) html, css, js...  

```html
<form>
    <input type = "text" name = "id"/>
</form>

<?php
    echo $_['id'];
?>
```

post: url 대신 request body 부분에 넣는다  

```html
<form method = "GET" action = "login_proc.php">
    <input type = "text" name = "id" placeholder = "User ID"/>
    <input type = "password" name = "pw" placeholder = "User Password"/>
    <input type = "submit" value = "login"/>
</form>
```

&: html에서는 파라미터 구분자  
& 위에서는 백그라운드에서 실행하라고 했잖아요

submit이 뭔데요<sup>[15](#footnote_15)</sup>

```php
<?php
    echo $_GET['id'];
    echo $_GET['pw'];
?>
```

Web Service = Web Server(Static Resource) + WAS(Dinamic Resource) + DB
login 화면 -> db에서 인증 ps -> login 이후 화면

# 1주차 과제
1. 복습 (웹 서버 이해)
2. 간이 로그인 페이지 만들기 (db연결x)
(admin / admin1234) 라고 입력했을 때 로그인을 시켜주는 페이지를 만들어보기  
``` python
id, pw = map(str, input())
if id == admin and pw == admin1234:
    return true
else:
    return false
```  
ㄴ> 이런 느낌이면 충분하지 않을까요  
3. 로그인 페이지 예쁘게 만들기 (CSS/BOOTSTRAP)   
-> 네이버, 인스타그램 등 유명한 사이트 로그인 페이지처럼 꾸미기

# Skelton code란?<sup>[12](#footnote_12)</sup>
스켈레톤 코드(skeleton code)는 문자 그대로 ‘뼈대’  
즉 하나의 프로그램이 동작하는 전체 과정을 한눈에 알아볼 수 있도록 그 구조를 나타낸 틀입니다.  
일종의 설계도 또는 코드 디자인의 영역이라고 할 수 있습니다.

# 의사 코드(Pseudo code)<sup>[12](#footnote_12)</sup>
의사(疑似)코드는 프로그래밍 언어의 형식을 빌려 우리말로 표현한 코드입니다.  
말 그대로 실제 코드를 흉내낸 가짜 코드(Pseudo Code)이지요.  
프로그램이 실제 구현될 모습을 우리말로 풀어 설명하여 작동 원리에 대한 이해를 높이는 데 목적이 있습니다.

# 참고 사이트
<a name="footnote_1">[1]: <https://www.tcpschool.com/webbasic/www></a><br>
<a name="footnote_2">[2]: <https://cloud.google.com/mysql?hl=ko></a><br>
<a name="footnote_3">[3]: <https://yoo11052.tistory.com/208></a><br>
<a name="footnote_4">[4]: <https://yunjipark0623.tistory.com/entry/CentOS7-%EB%A6%AC%EB%88%85%EC%8A%A4-Network-Manager-IP%EC%A3%BC%EC%86%8C-%EC%88%98%EB%8F%99-%EC%84%A4%EC%A0%95-IP-binding></a><br>
<a name="footnote_5">[5]: <https://blog.naver.com/appeal7712/222294712570></a><br>
<a name="footnote_6">[6]: <https://positivemh.tistory.com/651></a><br>
<a name="footnote_7">[7]: <https://mingzz1.github.io/error/windows/2020/09/01/ssh_connection_failed.html/></a><br>
<a name="footnote_8">[8]: <https://www.44bits.io/ko/keyword/veth></a><br>
<a name="footnote_9">[9]: <https://support.google.com/merchants/answer/13813117?hl=ko></a><br>
<a name="footnote_10">[10]: <https://velog.io/@nayoon-kim/python></a><br>
<a name="footnote_11">[11]: <https://developer-yeony.tistory.com/22></a><br>
<a name="footnote_12">[12]: <https://medium.com/@marcie179c/java-script-%EC%8A%A4%EC%BC%88%EB%A0%88%ED%86%A4-%EC%BD%94%EB%93%9C-%EC%9D%98%EC%82%AC-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1-%EC%9E%90%ED%8C%90%EA%B8%B0-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-cb046014f21></a><br>
<a name="footnote_13">[13]: <https://velog.io/@woojin/address-already-in-use-port-%ED%8F%AC%ED%8A%B8-%EC%8B%A4%ED%96%89-%EC%A4%91-%EC%97%90%EB%9F%AC%EA%B0%80-%EC%83%9D%EA%B8%B8-%EB%95%8C></a><br>
<a name="footnote_14">[14]: <https://philip1994.tistory.com/6></a><br>
<a name="footnote_15">[15]: <https://jamong-icetea.tistory.com/32></a><br>
<a name="footnote_16">[16]: <https://ko.hostadvice.com/marketshare/server/></a><br>
<a name="footnote_17">[17]: <https://gwonbookcase.tistory.com/25/></a><br>
<a name="footnote_18">[18]: <https://namu.wiki/w/%EC%95%84%ED%8C%8C%EC%B9%98%20HTTP%20%EC%84%9C%EB%B2%84></a><br>
<a name="footnote_19">[19]: <https://jettstream.tistory.com/345></a><br>
<a name="footnote_20">[20]: <https://developer.mozilla.org/ko/docs/Learn/Common_questions/Web_mechanics/What_is_a_URL></a><br>
<a name="footnote_21">[21]: <https://ko.wikipedia.org/wiki/URL></a><br>
<a name="footnote_22">[22]: <https://www.elancer.co.kr/blog/detail/74></a><br>
<a name="footnote_23">[23]: <https://codigospython.com/python-2-vs-python-3-diferencias-y-consideraciones/></a><br>
<a name="footnote_24">[24]: <https://selfinvestfriends.tistory.com/160/></a><br>
<a name="footnote_25">[25]: <https://m.blog.naver.com/jeonsr/221792705148></a><br>
<a name="footnote_26">[26]: <https://velog.io/@blackbean99/%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD-%EC%97%BF%EB%B3%B4%EA%B8%B0%EA%B5%AC%EB%A9%8D-Terminus-ssh-platform></a><br>
<a name="footnote_27">[27]: <https://namu.wiki/w/%ED%8F%AC%ED%8A%B8></a><br>
<a name="footnote_28">[28]: <https://m.blog.naver.com/hanmaru64/140188138042></a><br>
<a name="footnote_29">[29]: <https://sangbeomkim.tistory.com/101></a><br>
<a name="footnote_30">[30]: <https://ittrue.tistory.com/185></a><br>
<a name="footnote_31">[31]: <https://www.ibm.com/docs/ko/networkmanager/4.2.0?topic=discoveries-about-network-address-translation></a><br>
<a name="footnote_32">[32]: <https://www.stevenjlee.net/2020/07/11/%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-nat-network-address-translation-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%A3%BC%EC%86%8C-%EB%B3%80%ED%99%98/></a><br>
<a name="footnote_33">[33]: <https://medium.com/pocs/%EB%B0%94%EC%9D%B8%EB%94%A9-binding-4a4a2f641b27></a><br>
<a name="footnote_34">[34]: <https://codechasseur.tistory.com/25></a><br>

---

* 번외)  
후... 우분투 사랑해 ^^7 -> 리눅스 다시 한 번 보는 걸로